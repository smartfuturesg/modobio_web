"""ClientInfo and StaffProfile tables updates

Revision ID: 2c4b6e364283
Revises: 5fb1aae9de2f
Create Date: 2021-06-11 15:56:41.207530

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '2c4b6e364283'
down_revision = '5fb1aae9de2f'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('ClientInfo', 'idx')
    op.alter_column('ClientInfo', 'user_id')
    op.create_primary_key('pk_ClientInfo', 'ClientInfo', ['user_id'])
    op.drop_column('StaffProfile', 'idx')
    op.drop_column('StaffProfile', 'profile_picture')
    op.create_primary_key('pk_StaffProfile', 'StaffProfile', ['user_id'])
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('StaffProfile', sa.Column('profile_picture', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.add_column('StaffProfile', sa.Column('idx', sa.INTEGER(), server_default=sa.text('nextval(\'"StaffProfile_idx_seq"\'::regclass)'), autoincrement=True, nullable=False))
    op.add_column('ClientInfo', sa.Column('idx', sa.INTEGER(), server_default=sa.text('nextval(\'"ClientInfo_idx_seq"\'::regclass)'), autoincrement=True, nullable=False))
    # ### end Alembic commands ###
